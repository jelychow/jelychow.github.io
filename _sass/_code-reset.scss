/* ==========================================================================
   Code Reset - Selective styling for code elements
   ========================================================================== */

/* Reset all code elements */
code, pre, .highlight, .highlighter-rouge, figure.highlight, div.highlighter-rouge,
.highlight code, .highlighter-rouge code, pre code, code span, .highlight span,
a code, p code, li code, td code, h1 code, h2 code, h3 code, h4 code, h5 code, h6 code {
  text-decoration: none !important;
  border-bottom: none !important;
  border: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* Remove background from inline code */
a code, p code, li code, td code, h1 code, h2 code, h3 code, h4 code, h5 code, h6 code {
  background: initial !important;
  background-color: initial !important;
}

/* Add background to code blocks */
div.highlighter-rouge, 
figure.highlight,
.highlight {
  background-color: #f6f8fa !important;
}

/* Basic styling for code */
code {
  font-family: 'Consolas', 'Liberation Mono', Menlo, monospace;
  font-size: .75em;
  padding-top: 0.1rem;
  padding-bottom: 0.1rem;
}

/* Code block container styling */
div.highlighter-rouge,
figure.highlight {
  position: relative;
  margin-bottom: 1.5em;
  padding: 0.5em;
  border: none;
  border-radius: 0;
  background: none !important;
  background-color: transparent !important;
  box-shadow: none;
  font-size: 1.0em;

  &:before {
    position: absolute;
    top: -22px;
    right: 0;
    padding: 2px 8px;
    background-color: #f1f1f1;
    color: #666;
    content: attr(data-lang);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    font-size: 11px;
    font-weight: normal;
    border-radius: 3px;
    border: none;
  }

  .highlight {
    margin: 0;
    font-family: 'Consolas', 'Liberation Mono', Menlo, monospace;
    font-size: 1.0em;
    line-height: 1.5;
    background: none !important;
    background-color: transparent !important;
  }
}

/* Inline code styling */
p code, li code, td code {
  padding: 2px 5px;
}

/* Table styling for code */
.highlight table {
  margin-bottom: 0;
  font-size: 1em;
  border: 0;

  td {
    padding: 5px;
    border: 0;
    
    /* Line numbers column */
    &.gutter {
      padding-right: 1em;
      width: 1em;
      color: #999;
      text-align: right;
    }
    
    /* Code column */
    &.code {
      padding-left: 1em;
    }
  }

  pre {
    margin: 0;
    padding: 0;
    border: 0;
  }
}

/* Light theme syntax highlighting - GitHub-inspired */
.highlight {
  color: #24292e;
  
  .c, .cm, .c1, .cs { color: #6a737d; } /* Comment */
  .err { color: #b31d28; } /* Error */
  .k, .kc, .kd, .kp, .kr { color: #d73a49; } /* Keyword */
  .o, .ow { color: #24292e; } /* Operator */
  .p { color: #24292e; } /* Punctuation */
  .n { color: #24292e; } /* Name */
  .na { color: #6f42c1; } /* Name.Attribute */
  .nb { color: #005cc5; } /* Name.Builtin */
  .nc { color: #6f42c1; } /* Name.Class */
  .no { color: #e36209; } /* Name.Constant */
  .nd { color: #6f42c1; } /* Name.Decorator */
  .ni { color: #24292e; } /* Name.Entity */
  .ne { color: #e36209; } /* Name.Exception */
  .nf { color: #6f42c1; } /* Name.Function */
  .nl { color: #24292e; } /* Name.Label */
  .nn { color: #24292e; } /* Name.Namespace */
  .nt { color: #22863a; } /* Name.Tag */
  .nv { color: #e36209; } /* Name.Variable */
  .nx { color: #24292e; } /* Name.Other */
  
  .s, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss { color: #032f62; } /* String */
  .m, .mf, .mh, .mi, .mo, .il { color: #005cc5; } /* Number */
  
  .gd { color: #b31d28; } /* Generic.Deleted */
  .gi { color: #22863a; } /* Generic.Inserted */
}

/* Language-specific tweaks */
.language-kotlin {
  .kd { color: #d73a49; } /* Keywords like fun, val, var */
  .kt { color: #d73a49; } /* Types */
  .nf { color: #6f42c1; } /* Function names */
  .nc { color: #6f42c1; } /* Class names */
  .nn { color: #24292e; } /* Package names */
  .s { color: #032f62; } /* Strings */
  .c1 { color: #6a737d; } /* Comments */
  .o { color: #24292e; } /* Operators */
}
