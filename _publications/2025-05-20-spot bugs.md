---
title: "Android Questions: Spot Bugs"
collection: publications
category: manuscripts
permalink: /publication/2025-05-19-spot-bugs
excerpt: "通过现象看本质"
date: 2025-05-20
venue: 'Android开发问答'
theme: awesome-green
---

## When this code is run, the Column doesn’t render the background color that was applied to it. Why is that?
```kt
@Composable
fun MainScreen(
    modifier: Modifier = Modifier,
    nightModeEnabled: Boolean = false
) {
    val screenModifier = modifier
        .background(color = AppColors.background)
        .fillMaxSize()

    AppTheme(darkMode = nightModeEnabled) {
        Column(modifier = screenModifier) {
            // Your content here
        }
    }
}
```
Answer:
主题覆盖了背景：AppTheme 可能已经为其内容设置了背景色，这会覆盖你在 Column 上设置的背景色

Solution:

```kt
@Composable
fun MainScreen(
    modifier: Modifier = Modifier,
    nightModeEnabled: Boolean = false
) {
    AppTheme(darkMode = nightModeEnabled) {
        Column(
            modifier = modifier
                // Here, the background color is accessed
                // only in the scope of the AppTheme
                .background(color = AppColors.background)
                .fillMaxSize()
        ) {
            // Your content here
        }
    }
}
```